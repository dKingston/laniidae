from sys import byteorder
from platform import system, machine

Import('env')
liblaniidae = env.Clone()

with open('conf.hpp', 'w') as f:
    f.write('// This file is generated by SCons, do NOT modify it.\n')
    f.write('\n')
    f.write('#pragma once\n')
    f.write('\n')
    f.write('const std::string byte_order("%s");\n' % byteorder)
    f.write('const std::string platform("%s");\n' % system())
    f.write('const std::string machine("%s");\n' % machine())

liblaniidae.Clean('.', 'conf.hpp')
liblaniidae.StaticLibrary('liblaniidae', Glob('*.cpp'))
